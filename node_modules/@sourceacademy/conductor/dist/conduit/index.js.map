{"version":3,"file":"index.js","sources":["../../src/conduit/Channel.ts","../../src/conduit/Conduit.ts"],"sourcesContent":[null,null],"names":["Channel","name","__port","__subscribers","Set","__isAlive","__waitingMessages","send","message","transfer","this","__verifyAlive","postMessage","subscribe","subscriber","add","data","unsubscribe","delete","close","ConductorInternalError","__dispatch","length","console","warn","push","listenToPort","port","addEventListener","e","start","replacePort","constructor","Conduit","__alive","__link","__parent","__channels","Map","__pluginMap","__plugins","__negotiateChannel","channelName","port1","port2","MessageChannel","channel","set","registerPlugin","pluginClass","arg","attachedChannels","channelAttach","has","get","plugin","undefined","unregisterPlugin","p","i","destroy","lookupPlugin","pluginName","terminate","__handlePort","link","parent"],"mappings":"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"}